import { Notification } from '../../types'; export class NotificationManager { private subs: any[] = []; private hist: Notification[] = []; push(t: string, m: string, u = false) { const n = { id: crypto.randomUUID(), title: t, message: m, timestamp: Date.now(), urgent: u }; this.hist.unshift(n); this.subs.forEach(cb => cb(n)); } subscribe(cb: any) { this.subs.push(cb); return () => this.subs = this.subs.filter(s => s !== cb); } getHistory() { return this.hist; } }